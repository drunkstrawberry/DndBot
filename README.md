# DndBot
Этот проект реализует телеграм-бота для генерации персонажей в настольной игре Dungeons and Dragons (DnD) с использованием LLM модели (gemini 1.5 flash latest)

## Описание функционала бота
**Бот доступен в Telegram: @dnd_generative_bot**

Бот предлагает пользователю создать персонажа для настольной игры Dungeons and Dragons с нуля. Первоначально выбираются основные характеристики персонажа из предложенных
### Раса персонажа
Человек, Эльф, Полурослик, Дварф, Гном, Полуэльф, Полуорк, Тифлинг, Драконорожденный. Пользователь может также нажать "авто" и сгенерировать персонажа случайной расы.

### Класс персонажа
Класс персонажа может быть также выбран из предложенных или сгенерирован автоматически. Доступные классы: Варвар, Бард, Жрец, Друид, Воин, Монах, Паладин, Следопыт, Плут, Чародей, Колдун, Волшебник.

### Предыстория персонажа
Может быть также выбрана автоматически или из предложенных: Прислужник, Шарлатан, Преступник, Артист, Народный герой, Ремесленник Гильдии, Отшельник, Благородный, Чужеземец, Мудрец, Моряк, Солдат, Беспризорник.

### Мировоззрение
Поскольку мировоззрение в DnD это достаточно сложная тема, требующая погружения, в боте реализован алгоритм выбора для новичков из матрицы по координатам: злой/добрый/нейтральный, законопослушный/нейтральный/хаотичный.

### Настраиваемые параметры
Самостоятельно пользователь может выбрать локацию, откуда родом персонаж (задать ее название и характеристики, например, "Тихая деревня Фандалин"), а также выбрать пожелания по характеристикам и статам: приоритеты. Последним этапом задаются важные пояснения или дополнения к характеру персонажа, которые пользователь также может ввести

### Использование LLM 
По запросам пользователя или по рандомной генерации модель генерирует текст предыстории и основных черт личности персонажа, заполняет характеристики, придумывает имя. Все результаты сохраняются в PDF-файл и готовы для использования в игре

## Запуск
Бот запускается командой
```sh
python tgbot_main.py
```
В переменные среды должны включать
```sh
GOOGLE_API_KEY = "<ключ для использования gemini c Google AI Studio>"
TELEGRAM_BOT_TOKEN = "<индивидуальный ключ Telegramбота, полученный в системе создания ботов в Telegram>"
FONT_PATH_FOR_BOT_SESSION = "<путь к файлу шрифта в формате .ttf, который будет использоваться в создании PDF-файла (поддерживающий кириллицу)>"
```

## Об авторах
Мы студенты 3 курса высшей школы экономики реализовали данный проект в рамках общеуниверситетского факультатива "Большие языковые модели (LLM) с нуля".   
Авторы проекта:   

Марина [drunkstrawberry](https://github.com/drunkstrawberry) Сигаева   
Даниил [dmkhlnk](https://github.com/dmkhlnk) Михайленко   
Денис [danikoshin](https://github.com/danikoshin) Никошин

![alt text](image.png)